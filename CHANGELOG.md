# CHANGELOG

## v1.5
- 隐藏“检查应用激活脚本”中输出
- 自动修复触发条件分离，现在会分两种情况触发对应自动修复
- “常见问题”整合至自动修复
- 完善“检查 ADB 端口占用情况”功能
- 当 ADB 默认端口被占用时给出详细提示
- 自动尝试结束占用 ADB 端口的进程
- 美化 if 格式
- 调整并规范部分文字描述
- 移除不完善的小黑屋版本检测功能（原因见下）

> 关于移除部分应用版本检测功能：任何应用激活时都可能因为系统或应用版本等原因遇到无法激活的情况，且此内容具有时效性。此时始终建议尝试更新应用版本来解决，或者向开发者提供反馈

> `[注意]`：执行遇到错误、需要用户注意或会对用户造成一定影响时使用，如提示风险、自动关闭进程等

> `[提示]`：在用户可能需要手动检查或执行某些操作时使用，如检查状态、选择模式、退出程序等

## v1.4
- 修复强制执行模式遗漏激活黑阈的问题
- 修复 UTF-8 版本`chcp`设置仍为 GB2312 的问题
- 修复小黑屋和权限狗执行失败但判定为执行成功的问题
- 优化执行逻辑，使用变量存储各应用激活脚本路径
- 调整并规范部分文字描述
- 支持检查应用激活脚本是否存在

> 在嵌套的 if 语句中引用之前设置或修改过的变量时,，需要开启“延迟环境变量扩展”，否则获取的是“未及时更新”的变量。
> 解决：`setlocal EnableDelayedExpansion`

## v1.3

- 修复 Shizuku 正常执行后错误跳转到自动修复的问题（开发环境测试用，忘记恢复）
- 执行完毕后添加使用技巧提示
- 简化自动修复显示常见问题

## v1.2

- 初始化忽略错误变量
- 支持报错后忽略错误强制继续执行
- 调整小黑屋和权限狗的执行顺序，并同步出错重试逻辑
- 规范 goto 格式

### 已知问题
* 执行启动或激活命令期间若断开 ADB 链接，不会判定为设备未连接

> if 嵌套内的 %errorlevel% 似乎获取的是 if 本身的条件判定？

## v1.1

- 支持激活权限狗、小黑屋
- 执行遇到错误时检测 5037 端口是否被占用
- 完善“常见问题”
- 增加空格使代码更为美观
- 标题处添加版本号
- 重命名文件后缀名为 .bat

注意：权限狗可能无法正常激活，请等待原作者修复

> 如果命令扩展被启用，GOTO 会如下改变:
> GOTO 命令现在接受目标标签 :EOF，这个标签将控制转移到当前批脚本文件的结尾。不定义就退出批脚本文件，这是一个容易的办法。

## v1.0

- 支持激活 Scene、冰箱、黑阈
- 自动识别并跳过激活未安装的应用
- 未找到 ADB 工具时提醒并给出解决方案
- 仅在执行遇到错误时尝试关闭正在运行的其它 ADB 进程防止冲突
- 执行遇到错误时提供“常见问题”
- 提供 GB2312 和 UTF-8 两种编码版本

## v0.1（内部版本）

- 启动 Android 系统无线调试
- 运行时关闭正在运行的其它ADB进程防止冲突
- 激活 Shizuku